三次握手的原因？
三次握手可以防止已经失效的连接请求突然传输到server
，导致气资源浪费。
例如：客户端发送一个请求，由于网络阻塞，该syn数据包在某个节点
长期滞留，然后客户端又重传新的syn数据包并建立了正确的链接，然后传输完数据后
关闭连接。该链接释放后失效的syn数据包才到达服务器，第二次握手的前提下，服务端会认为
这是客户端发起的与又一次请求，然后发送syn，并且在服务器创建socket套接字，一直等待客户端发送数据，
但是由于客户端并没有发起新的请求，所以会丢弃服务端的syn，此时服务段端会一直等待客户端发送数据从而造成
资源浪费。

四次挥手的原因？

由于链接的关闭控制权在应用层，所以被动关闭的一方在接收到
fin包的时候，TCP协议栈会直接发送一个ack确认包，优先关闭
发起关闭请求方的通信，然后通知应用层决定什么时候，发送fin
包，应用层处理可以使用系统调用函数read==0判断对端是否关闭连接。

搜索百度用到计算机网络的什么层？每层都是干什么的？

输入URL

浏览器讲URL解析成IP地址，解析域名使用DNS协议，首先查询本地DNS缓存，如果没有就给DNS服务器发送查询请求。
DNS查询分为两种方式，一种是递归查询，另一种是迭代查询。如果是迭代查询，本地的DNS服务器向根域名服务器发送
查询请求，根域名服务器、告知该域名服务器的一级域名服务器，然后本地服务器给该一级域名服务器发送查询请求，
然后依次类推知道直到查询到该域名的IP地址，因此会用到UDP协议。
得到IP地址后，浏览器就要与服务器建立一个http链接，因此要用到http协议，http协议报文格式上面已经提到。
http 生成一个get请求报文，将该报文传给tcp处理，所以会用到tcp协议，
如果采用https还会使用https协议先对http数据进行加密，tcp层如果
有需要现将http数据包分片，分片的依据路径MTU和MSS。tcp的数据包然后会发送给IP层，用到IP协议。IP层通过路由
选路，一跳一跳发送到目的地址，当然在一个网段内寻址是通过以太网协仪需要实现，以太网协议需要知道目的IP地址的物理地址，有需要
ARP协议

其中DNS协议，http,https协议都是应用层协议

应用层体系结构中的最高层。应用层以确定进程之间通信性质以满足用户的需要。这里进程就是正在运行的程序。
TCP/UDP属于传输层
传输层的任务是负责主机中两个进程之间的通信。因特网的传输可使用两种不同的协议；即面向连接的传输控制协议TCP。
和无连接的用户数据报协议UDP。
面向连接的服务保证数据可靠的交付，但是无连接的服务则不保证提供可靠的交付。

IP协议和ARP协议，网络层负责为分组交换网上的不同主机提供通信。在发送数据时，网络层将传输层产生的报文段或者用户数据
封装成分组和包进行传送，分组也叫IP数据报，或者称为数据报网络层的另一个任务就是选择合适的路由，使源主机传输层传下来的
分组能够交付到目的主机。

数据链路层

将IP层传下来的数据封装成帧，在两个相邻节点间的链路上传送以帧为单位的数据。

TCP拥塞控制？
拥塞控制是防止过多的数据注入到网络，使得网络中的路由
器或者链路过载。流量控制是点对点的通信机制，而拥塞控制是
全局的网络流量控制。发送双方都有一个拥塞窗口－－cwnd

满开始？
最开始发送方的拥塞窗口是１，有小到大逐渐增大，发送窗口和拥塞窗口。每经过一个传输轮次，拥塞窗口
cwnd加倍，当cwnd超过满启动门限，则使用拥塞避免算法，避免cwnd增大过大。

拥塞避免

没经过一个往返时间RTT，cwnd就增长1
在满启动开始和拥塞避免的过程中，一旦发现网络拥塞，就将慢开始门限设置成
当前值的一半，并且重新设置cwnd为1，重新慢启动

快重传？

接收方每收到一个失序的报文段后就立即发出重复确认
，发送方只要连续收到三个重复确认就立即重传。

快恢复？

当发送方连续收到三个重复确认就乘法减半，将当前的
cwnd设置为满启动门限，并采用拥塞避免算法

采用快恢复算法的时候，慢开始只在建立连接和网络超时才使用

达到什么情况的时候开始减慢增长的速度？

采用慢和开始不和拥塞避免算法的时候：
一旦窗口>慢开始门限，就采用拥塞避免算法，减慢增长速度

一旦出现丢包的情况，就重新开始减慢增长速度

采用快恢复和快重传算法的开始：
一旦窗口cwnd>慢开始门限，就采用拥塞避免算法，减慢增长速度
一旦发送方连续收到了三个重复确认，就采用拥塞避免算法，减慢增长速度

请问TCP用了那些措施保证可靠性？

序列号，确认应答，超时重传

